Version 4
SHEET 1 3012 4756
WIRE -256 -48 -256 -80
WIRE -656 -16 -656 -48
WIRE -656 32 -656 16
WIRE -256 64 -256 32
WIRE -656 96 -656 64
WIRE -256 192 -256 160
WIRE -256 304 -256 272
WIRE -256 432 -256 400
WIRE -256 544 -256 512
WIRE 176 2016 176 1872
WIRE -256 2064 -320 2064
WIRE -160 2064 -256 2064
WIRE 0 2064 -160 2064
WIRE 112 2064 80 2064
WIRE -256 2080 -256 2064
WIRE -256 2192 -256 2160
WIRE 1792 2224 416 2224
WIRE 176 2288 176 2112
WIRE -256 2336 -320 2336
WIRE -128 2336 -256 2336
WIRE 0 2336 -128 2336
WIRE 112 2336 80 2336
WIRE 800 2336 800 2320
WIRE -256 2352 -256 2336
WIRE 176 2416 176 2384
WIRE 416 2416 416 2224
WIRE 416 2416 176 2416
WIRE 176 2448 176 2416
WIRE 800 2448 800 2416
WIRE 864 2448 800 2448
WIRE 1200 2448 864 2448
WIRE -256 2464 -256 2432
WIRE 800 2464 800 2448
WIRE -256 2512 -320 2512
WIRE -192 2512 -256 2512
WIRE 416 2512 416 2416
WIRE 624 2512 416 2512
WIRE 736 2512 704 2512
WIRE -256 2528 -256 2512
WIRE 176 2560 176 2528
WIRE 2672 2560 2672 2512
WIRE 800 2624 800 2560
WIRE 880 2624 800 2624
WIRE 2240 2624 2240 2608
WIRE -256 2640 -256 2608
WIRE 864 2656 864 2448
WIRE 864 2656 800 2656
WIRE 2672 2656 2672 2640
WIRE 2736 2656 2672 2656
WIRE 2672 2688 2672 2656
WIRE 176 2720 176 2704
WIRE 800 2736 800 2656
WIRE 2240 2736 2240 2704
WIRE 2304 2736 2240 2736
WIRE 2480 2736 2304 2736
WIRE 2608 2736 2560 2736
WIRE 2240 2752 2240 2736
WIRE 624 2784 304 2784
WIRE 736 2784 704 2784
WIRE 1792 2800 1792 2224
WIRE 2064 2800 1792 2800
WIRE 2176 2800 2144 2800
WIRE 176 2832 176 2800
WIRE 240 2832 176 2832
WIRE 304 2832 304 2784
WIRE 304 2832 240 2832
WIRE 176 2848 176 2832
WIRE 2672 2848 2672 2784
WIRE 800 2864 800 2832
WIRE 880 2864 880 2624
WIRE 880 2864 800 2864
WIRE -160 2896 -160 2064
WIRE 0 2896 -160 2896
WIRE 112 2896 80 2896
WIRE 2240 2912 2240 2848
WIRE 2320 2912 2240 2912
WIRE 2304 2944 2304 2736
WIRE 2304 2944 2240 2944
WIRE 176 3008 176 2944
WIRE 256 3008 176 3008
WIRE 800 3008 800 2864
WIRE 2240 3024 2240 2944
WIRE 240 3040 240 2832
WIRE 240 3040 176 3040
WIRE 2064 3072 1872 3072
WIRE 2176 3072 2144 3072
WIRE 176 3120 176 3040
WIRE 2240 3152 2240 3120
WIRE 2320 3152 2320 2912
WIRE 2320 3152 2240 3152
WIRE -128 3168 -128 2336
WIRE 0 3168 -128 3168
WIRE 112 3168 80 3168
WIRE 176 3248 176 3216
WIRE 256 3248 256 3008
WIRE 256 3248 176 3248
WIRE 2240 3296 2240 3152
WIRE 1632 3360 1632 3216
WIRE 176 3392 176 3248
WIRE 1200 3408 1200 2448
WIRE 1296 3408 1200 3408
WIRE 1456 3408 1296 3408
WIRE 1568 3408 1536 3408
WIRE 1632 3632 1632 3456
WIRE -192 3680 -192 2512
WIRE 1328 3680 -192 3680
WIRE 1456 3680 1328 3680
WIRE 1568 3680 1536 3680
WIRE 2256 3680 2256 3664
WIRE 1632 3760 1632 3728
WIRE 1872 3760 1872 3072
WIRE 1872 3760 1632 3760
WIRE 1632 3792 1632 3760
WIRE 2256 3792 2256 3760
WIRE 2320 3792 2256 3792
WIRE 2384 3792 2320 3792
WIRE 2256 3808 2256 3792
WIRE 1872 3856 1872 3760
WIRE 2080 3856 1872 3856
WIRE 2192 3856 2160 3856
WIRE 1632 3904 1632 3872
WIRE 2256 3968 2256 3904
WIRE 2336 3968 2256 3968
WIRE 2320 4000 2320 3792
WIRE 2320 4000 2256 4000
WIRE 1632 4064 1632 4048
WIRE 2256 4080 2256 4000
WIRE 2080 4128 1760 4128
WIRE 2192 4128 2160 4128
WIRE 1632 4176 1632 4144
WIRE 1696 4176 1632 4176
WIRE 1760 4176 1760 4128
WIRE 1760 4176 1696 4176
WIRE 1632 4192 1632 4176
WIRE 2256 4208 2256 4176
WIRE 2336 4208 2336 3968
WIRE 2336 4208 2256 4208
WIRE 1296 4240 1296 3408
WIRE 1456 4240 1296 4240
WIRE 1568 4240 1536 4240
WIRE 1632 4352 1632 4288
WIRE 1712 4352 1632 4352
WIRE 2256 4352 2256 4208
WIRE 1696 4384 1696 4176
WIRE 1696 4384 1632 4384
WIRE 1632 4464 1632 4384
WIRE 1328 4512 1328 3680
WIRE 1456 4512 1328 4512
WIRE 1568 4512 1536 4512
WIRE 1632 4592 1632 4560
WIRE 1712 4592 1712 4352
WIRE 1712 4592 1632 4592
WIRE 1632 4736 1632 4592
FLAG -656 96 0
FLAG -256 64 0
FLAG -256 304 0
FLAG -656 -48 +5V
FLAG -256 -80 A
IOPIN -256 -80 Out
FLAG -256 160 B
IOPIN -256 160 Out
FLAG 176 2560 0
FLAG -320 2064 A
IOPIN -320 2064 In
FLAG -320 2336 B
IOPIN -320 2336 In
FLAG 176 3392 0
FLAG 176 2704 +5V
FLAG -320 2512 C
IOPIN -320 2512 In
FLAG 800 3008 0
FLAG 800 2320 +5V
FLAG 1632 3904 0
FLAG 1632 3216 +5V
FLAG 1632 4736 0
FLAG 1632 4048 +5V
FLAG 2256 4352 0
FLAG 2256 3664 +5V
FLAG 2384 3792 RESULT
IOPIN 2384 3792 Out
FLAG 2240 3296 0
FLAG 2240 2608 +5V
FLAG 2672 2512 +5V
FLAG 2672 2848 0
FLAG 2736 2656 CAR
IOPIN 2736 2656 Out
FLAG -256 544 0
FLAG -256 400 C
IOPIN -256 400 Out
FLAG -256 2192 0
FLAG -256 2464 0
FLAG -256 2640 0
FLAG 176 1872 +5V
SYMBOL voltage -656 -32 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL Misc\\signal -256 -64 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(0 4 0 0 0 0.1 0.2)
SYMBOL Misc\\signal -256 176 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 4 0 0 0 0.05 0.3)
SYMBOL npn 112 2016 R0
SYMATTR InstName Q21
SYMATTR Value BC817-25
SYMBOL npn 112 2288 R0
SYMATTR InstName Q22
SYMATTR Value BC817-25
SYMBOL res 96 2048 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R44
SYMATTR Value 10k
SYMBOL res 96 2320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R45
SYMATTR Value 10k
SYMBOL res 192 2544 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R48
SYMATTR Value 1k
SYMBOL npn 112 2848 R0
SYMATTR InstName Q23
SYMATTR Value BC817-25
SYMBOL npn 112 3120 R0
SYMATTR InstName Q24
SYMATTR Value BC817-25
SYMBOL res 96 2880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R49
SYMATTR Value 10k
SYMBOL res 96 3152 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R50
SYMATTR Value 10k
SYMBOL res 192 2816 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R53
SYMATTR Value 1k
SYMBOL npn 736 2464 R0
SYMATTR InstName Q25
SYMATTR Value BC817-25
SYMBOL npn 736 2736 R0
SYMATTR InstName Q26
SYMATTR Value BC817-25
SYMBOL res 720 2496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R54
SYMATTR Value 10k
SYMBOL res 720 2768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R55
SYMATTR Value 10k
SYMBOL res 816 2432 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R58
SYMATTR Value 1k
SYMBOL npn 1568 3360 R0
SYMATTR InstName Q27
SYMATTR Value BC817-25
SYMBOL npn 1568 3632 R0
SYMATTR InstName Q28
SYMATTR Value BC817-25
SYMBOL res 1552 3392 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R59
SYMATTR Value 10k
SYMBOL res 1552 3664 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R60
SYMATTR Value 10k
SYMBOL res 1648 3888 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R63
SYMATTR Value 1k
SYMBOL npn 1568 4192 R0
SYMATTR InstName Q29
SYMATTR Value BC817-25
SYMBOL npn 1568 4464 R0
SYMATTR InstName Q30
SYMATTR Value BC817-25
SYMBOL res 1552 4224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R64
SYMATTR Value 10k
SYMBOL res 1552 4496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R65
SYMATTR Value 10k
SYMBOL res 1648 4160 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R68
SYMATTR Value 1k
SYMBOL npn 2192 3808 R0
SYMATTR InstName Q31
SYMATTR Value BC817-25
SYMBOL npn 2192 4080 R0
SYMATTR InstName Q32
SYMATTR Value BC817-25
SYMBOL res 2176 3840 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R69
SYMATTR Value 10k
SYMBOL res 2176 4112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R70
SYMATTR Value 10k
SYMBOL res 2272 3776 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R73
SYMATTR Value 1k
SYMBOL npn 2176 2752 R0
SYMATTR InstName Q33
SYMATTR Value BC817-25
SYMBOL npn 2176 3024 R0
SYMATTR InstName Q34
SYMATTR Value BC817-25
SYMBOL res 2160 2784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R74
SYMATTR Value 10k
SYMBOL res 2160 3056 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R75
SYMATTR Value 10k
SYMBOL res 2256 2720 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R78
SYMATTR Value 1k
SYMBOL npn 2608 2688 R0
SYMATTR InstName Q35
SYMATTR Value BC817-25
SYMBOL res 2688 2656 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R79
SYMATTR Value 1k
SYMBOL res 2576 2720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R80
SYMATTR Value 10k
SYMBOL Misc\\signal -256 416 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(0 4 0 0 0 0.05 0.25)
SYMBOL res -240 2176 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R81
SYMATTR Value 220k
SYMBOL res -240 2448 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R46
SYMATTR Value 220k
SYMBOL res -240 2624 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R47
SYMATTR Value 220k
TEXT -784 104 Left 2 !.tran 1s
